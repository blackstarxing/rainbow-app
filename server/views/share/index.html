{% extends 'layout.html' %}
{% block css %}
<link rel="stylesheet" href="../dist/index.css">
{% endblock %}
{% block content %}
<div id="room" v-cloak>
    <div class="g-ct">
        <div class="m-video">
            <video id="mainvideo" preload="auto" autoplay="true" webkit-playsinline="true" playsinline="true" x5-video-player-type="h5" style="object-fit:fill">
                <source type="application/x-mpegURL" src="{{link}}"/>
            </video>
            <div class="play-btn icon-play"></div>
        </div>
        <div class="m-header">
            <div class="top-container">
                <div class="avatar-contatiner">
                    <i class="avatar icon-avatar icon-toplist" v-bind:style="{backgroundImage: 'url(' + info.user_icon + ')'}" v-bind:data-id="info.userId" @click="showCard"></i>
                    <div class="content">
                        <div class="name">${info.nickname}</div>
                        <div class="author-id">ID ${info.userId}</div>
                    </div>
                    <div class="follow">
                        <a href="" class="u-follow-btn">关注</a>
                    </div>
                </div>
                <div class="members-container">
                    <i class="item icon-avatar icon-toplist" v-bind:style="{backgroundImage: 'url(' + list.icon + ')'}" v-bind:data-id="list.userId" v-for="list in audienceList"></i>
                </div>
            </div>
            <div class="charm">魅力榜<i class="num">${info.charmTotalValue}</i></div>
        </div>
        <div class="main-section">
            <div class="m-chat">
                <!-- 高级用户 -->
                <div class="vip-enter">
                    24级 <span>啦啦啦</span> 进入直播间
                </div>
                <div class="chat-area" id="chat"></div>
                <div class="award">
                    <div>可领取</div>
                    <img src="/share/images/gold.png" alt="">
                    x200
                </div>
            </div>
            <div class="m-operate f-cb">
                <i class="op-chat f-fl"></i>
                <i class="op-gift f-fr"></i>
                <i class="op-intro f-fr" @click="showIntro"></i>
            </div>
            <div class="m-game">
                <!-- 牌区 -->
                <div class="m-card">
                    <div class="game-box">
                        <div class="stake-box">
                            <div class="poker-area">
                                <div class="result-box" v-show="game.poker_group[0]">
                                    <ul class="f-cb">
                                        <li v-bind:class="'poker'+card.cardColor" v-for="card in game.cardsSet1">${card.cardNoShow}</li>
                                    </ul>
                                    <div class="result"><img v-bind:src="'/share/images/cow'+game.result1+'.png'" alt=""></div>
                                </div>  
                                <ul class="halfway-poker" v-show="half_group[0]">
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                </ul>                              
                            </div>
                            <div class="stake-area f-cb">
                                <div class="stake-name">
                                    <div>奇奇</div>
                                    <img src="/share/images/cow_1.png" alt="">
                                    <div class="power">x2.2倍</div>
                                </div>
                                <div class="stake-num">
                                    <div class="stake-all">
                                        ${watchNum(game.catNum1)}
                                    </div>
                                    <div class="stake-my">
                                        
                                    </div>
                                </div>
                            </div>
                            <div class="result-mask" v-show="game.mask[0]"></div>
                        </div>
                        <div class="stake-box">
                            <div class="poker-area">
                                <div class="result-box" v-show="game.poker_group[1]">
                                    <ul class="f-cb">
                                        <li v-bind:class="'poker'+card.cardColor" v-for="card in game.cardsSet2">${card.cardNoShow}</li>
                                    </ul>
                                    <div class="result"><img v-bind:src="'/share/images/cow'+game.result2+'.png'" alt=""></div>
                                </div>  
                                <ul class="halfway-poker" v-show="half_group[1]">
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                </ul>
                            </div>
                            <div class="stake-area f-cb">
                                <div class="stake-name">
                                    <div>趣趣</div>
                                    <img src="/share/images/cow_2.png" alt="">
                                    <div class="power">x2.2倍</div>
                                </div>
                                <div class="stake-num">
                                    <div class="stake-all">
                                        ${watchNum(game.catNum2)}
                                    </div>
                                    <div class="stake-my">
                                        
                                    </div>
                                </div>
                            </div>
                            <div class="result-mask" v-show="game.mask[1]"></div>
                        </div>
                        <div class="stake-box">
                            <div class="poker-area">
                                <div class="result-box" v-show="game.poker_group[2]">
                                    <ul class="f-cb">
                                        <li v-bind:class="'poker'+card.cardColor" v-for="card in game.cardsSet3">${card.cardNoShow}</li>
                                    </ul>                                   
                                    <div class="result"><img v-bind:src="'/share/images/cow'+game.result3+'.png'" alt=""></div>
                                </div>  
                                <ul class="halfway-poker" v-show="half_group[2]">
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                </ul>
                            </div>
                            <div class="stake-area f-cb">
                                <div class="stake-name">
                                    <div>乐乐</div>
                                    <img src="/share/images/cow_3.png" alt="">
                                    <div class="power">x2.2倍</div>
                                </div>
                                <div class="stake-num">
                                    <div class="stake-all">
                                        ${watchNum(game.catNum3)}
                                    </div>
                                    <div class="stake-my">
                                        
                                    </div>
                                </div>
                            </div>
                            <div class="result-mask" v-show="game.mask[2]"></div>
                        </div>
                    </div>
                    <div class="game-tip" v-bind:class="[game.tipClass]" v-show="game.showTip">${game.tip}</div>
                    <div class="clock" v-show="game.showClock">${game.time}</div>
                </div>
                <!-- <div class="m-bet"></div> -->
            </div>
        </div>
        <!-- 下载 -->
        <div class="m-footer" v-show="adDisplay">
            <img src="/images/icon.png" class="f-fl">
            <div class="f-fl">
                <h3>彩虹直播</h3>
                <p>可以玩的直播间</p>
            </div>
            <i @click="closeAd"></i>
            <a href="https://yuertvfile.wangyuhudong.com" class="download-btn f-fr">进入直播间</a>
        </div>
    </div>
    <!-- 礼物连击 -->
    <div class="m-gift-combo">
        <div class="gift-wrap wrap-top f-cb">
            <div class="gift-content f-fl">
                <i class="avatar icon-avatar f-fl" style="background-image: url('http://tva2.sinaimg.cn/crop.14.0.722.722.180/b06c6ba9jw8f8ko6nhcngj20ku0k2ac1.jpg');"></i>
                <div class="gift-info f-fl">
                    <h3>提莫队长</h3>
                    <p>送出了红司机</p>
                </div>
                <img src="/share/images/siji.png" class="f-fl" alt="">
            </div>
            <div class="gift-num f-fl">X${gift_num_top}</div>
        </div>
        <div class="gift-wrap wrap-bottom f-cb">
            <div class="gift-content f-fl">
                <i class="avatar icon-avatar f-fl" style="background-image: url('http://tva2.sinaimg.cn/crop.14.0.722.722.180/b06c6ba9jw8f8ko6nhcngj20ku0k2ac1.jpg');"></i>
                <div class="gift-info f-fl">
                    <h3>提莫队长</h3>
                    <p>送出了红司机</p>
                </div>
                <img src="/share/images/siji.png" class="f-fl" alt="">
            </div>
            <div class="gift-num f-fl">X${gift_num_bottom}</div>
        </div>
    </div>
    <!-- 全局通知 -->
    <div class="globel-note">
        提莫队长 <span>赢取了50000彩虹糖</span> 点击围观
    </div>
    <!-- 大礼物 -->
    <div class="huge-gift">
        <div class="gift-content f-cb">
            <i class="avatar icon-avatar f-fl" style="background-image: url('http://tva2.sinaimg.cn/crop.14.0.722.722.180/b06c6ba9jw8f8ko6nhcngj20ku0k2ac1.jpg');"></i>
            <div class="gift-info f-fl">
                <h3>提莫队长</h3>
                <p>送出了红司机</p>
            </div>
            <img src="/share/images/gift_star.png" alt="" class="bling">
            <img src="/share/images/siji.png" class="f-fl" alt="">
        </div>
    </div>
    <!-- 发牌 -->
    <div class="deal-section">
        <ul>
            
        </ul>
    </div>
    <!-- 用户卡片 -->
    <div class="m-pop-mask m-mask" v-show="cardDisplay">
        <div class="anchor-panel">
            <span class="report">举报</span>
            <span class="close" @click="closeCard">╳</span>
            <div class="avatar icon-avatar" v-bind:style="{backgroundImage: 'url(' + cardInfo.icon + ')'}" ></div>
            <h3 class="name">
                <span class="name-text">${cardInfo.nickname}</span>
                <span class="sex male" v-if="cardInfo.sex==1"></span>
                <span class="sex female" v-else></span>
                <span class="levelMedal" style="background-image: url('/share/images/fouth_level.png');" v-if="cardInfo.lv>22">${cardInfo.lv}</span>
                <span class="levelMedal" style="background-image: url('/share/images/third_level.png');" v-else-if="cardInfo.lv>12">${cardInfo.lv}</span>
                <span class="levelMedal" style="background-image: url('/share/images/second_level.png');" v-else-if="cardInfo.lv>1">${cardInfo.lv}</span>
                <span class="levelMedal" style="background-image: url('/share/images/first_level.png');" v-else>${cardInfo.lv}</span>
            </h3>
            <p class="anchor-id">Id: ${cardInfo.id}</p>
            <p class="signature" v-if="cardInfo.personalsignature">${cardInfo.personalsignature}</p>
            <p class="signature" v-else>此人还没有留下任何痕迹...</p>
            <ul class="numbers">
                <li><span class="number">${cardInfo.subscribeNum}</span><label>关注</label></li>
                <li><span class="number">${cardInfo.fans}</span><label>粉丝</label></li>
                <li><span class="number">${cardInfo.charmTotalValue}</span><label>魅力</label></li>
            </ul>
            <p class="listen-text"><span>+ 关注</span></p>
        </div>
    </div>
    <!-- 玩法介绍 -->
    <div class="m-intro-mask m-mask" v-show="introDisplay">
        <div class="game-intro">
            <h3>游戏介绍</h3>
            <div class="intro-content" v-html="introContent"></div>
            <div class="u-close" @click="closeIntro"></div>
        </div>
    </div>
    <!-- 直播结束 -->
    <div class="m-end-mask m-mask" v-if="is_live_end">
        <div class="end-bg"></div>
        <div class="end-container">
            <div class="end-head">
                <h3><span></span>&nbsp;&nbsp;&nbsp;直播结束&nbsp;&nbsp;&nbsp;<span></span></h3>
                <i class="avatar icon-avatar" style="background-image: url('http://tva2.sinaimg.cn/crop.14.0.722.722.180/b06c6ba9jw8f8ko6nhcngj20ku0k2ac1.jpg');"></i>
            </div>
            <div class="end-recommend">
                <h3>精彩推荐</h3>
                <div class="recommend-box">
                    <div class="recommend">
                        <a href="" style="background-image: url('//p.qlogo.cn/hy_personal/4376ae1e0cf0cccedf6a98055419b4438847511323dc7ea3c0fa7f621a7487230663cb77d04f449f658894768049357c/360?tp=webp');">      
                            <span><i>·</i>直播中</span>                  
                        </a>
                    </div>
                    <div class="recommend">
                        <a href="" style="background-image: url('//p.qlogo.cn/hy_personal/4376ae1e0cf0cccedf6a98055419b4438847511323dc7ea3c0fa7f621a7487230663cb77d04f449f658894768049357c/360?tp=webp');">      
                            <span><i>·</i>直播中</span>                  
                        </a>
                    </div>
                </div>
            </div>
            <a href="" class="u-dl-btn">下载彩虹直播</a>
        </div>       
    </div>
</div>
 	
{% endblock %}

{% block js %}
<script type="text/javascript" src="/js/vue.js"></script>
<script type="text/javascript" src="/js/dcodeIO/ByteArray.js"></script>  
<script type="text/javascript" src="/js/dcodeIO/Long.min.js"></script>     
<script type="text/javascript" src="/js/dcodeIO/bytebuffer.min.js"></script>  
<script type="text/javascript" src="/js/dcodeIO/protobuf.min.js"></script>  
<script type="text/javascript" src="/js/sha1.js"></script>
<script type="text/javascript" src="/js/Web_SDK_Base_v2.8.0.js"></script>
<script type="text/javascript" src="/js/Web_SDK_Chatroom_v2.8.0.js"></script>
<script type="text/javascript" src="/dist/index.js"></script>
<script type="text/javascript" src="/dist/chatroom.js"></script>
<script type="text/javascript" src="/dist/game.js"></script>
<script>
	
</script>
{% endblock %}