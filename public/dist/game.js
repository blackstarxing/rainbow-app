!function(e){function a(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}var t={};a.m=e,a.c=t,a.i=function(e){return e},a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},a.p="http://localhost:3000/dist",a(a.s=6)}({2:function(e,a){!function(){function e(){1==b.gameType?(b.leftarr=[],Vue.nextTick(function(){b.top=$(".poker-area").eq(0).offset().top;for(var e=0;e<3;e++)b.leftarr.push($(".poker-area").eq(e).offset().left);console.log(b.leftarr)})):2==b.gameType?(b.leftarr=[],Vue.nextTick(function(){b.top=$(".poker-area").eq(0).offset().top;for(var e=0;e<2;e++)b.leftarr.push($(".m-rc .poker-area").eq(e).offset().left);console.log(b.leftarr)})):3==b.gameType&&(b.leftarr=[],Vue.nextTick(function(){b.top=$(".game-box .poker-area").eq(0).offset().top;for(var e=0;e<3;e++)b.leftarr.push($(".game-box .poker-area").eq(e).offset().left);console.log(b.leftarr)}))}function a(){$.ajax({method:"GET",url:"/api/rainbow/gameInfo",dataType:"json",data:{gameId:b.gameType},success:function(e){b.game.rate_first=e.object.rate_first,b.game.rate_second=e.object.rate_second,b.game.rate_third=e.object.rate_third},error:function(e,a,t){console.log("接口出问题啦")}})}function t(e){$.ajax({method:"GET",url:"/api/rainbow/userInfo",dataType:"json",data:{otherId:e},success:function(e){b.hero.banker.user_icon=e.object.icon,b.hero.banker.name=e.object.nickname,b.hero.banker.sweet=e.object.rainbow_sweet},error:function(e,a,t){console.log("接口出问题啦")}})}function o(e){try{w=new WebSocket(e),w.binaryType="arraybuffer",n()}catch(a){r(e)}}function n(){w.onclose=function(){console.log("关闭"),r(T)},w.onerror=function(){r(T)},w.onopen=function(){console.log("已连接"),s(),l(),setInterval(function(){var e=new ByteArray,a=Date.parse(new Date);e.writeInt(parseInt(0)),e.writeInt(parseInt(1)),e.writeDouble(a),e.writeInt(parseInt(1)),e.writeInt(parseInt(1)),e.position=0,w.send(e.data)},5e4)},w.onmessage=function(e){f(e)}}function r(e){k||(k=!0,setTimeout(function(){o(e),k=!1},2e3))}function s(){var e={liveId:b.live_id};c(e,"CGGameState",10009),c(e,"CGEnterLiveRoom",10022)}function l(){c({liveId:b.live_id},"CGCathNowInfo",10013)}function c(e,a,t){var o=C.build(a),n=new o(e),r=n.toArrayBuffer(),s=new ByteArray(r),i=new ByteArray,i=new ByteArray,l=Date.parse(new Date);i.writeInt(parseInt(r.byteLength)),i.writeInt(parseInt(t)),i.writeDouble(l),i.writeInt(parseInt(1)),i.writeInt(parseInt(1)),i.writeBytes(s),w.send(i.data)}function f(t){var o=new ByteArray;o._writeUint8Array(new Uint8Array(t.data)),o.position=4;var n=new ByteArray,r=o.readInt();console.log("协议号:"+r),o.position=24;var s=(o.readBytes(n,o.position,t.data.byteLength),dcodeIO.ProtoBuf,"");switch(r){case 10002:s="GCBetRet";var i=C.build(s),l=i.decode(n.data.buffer);break;case 10004:s="GCOpenRet";var i=C.build(s),l=i.decode(n.data.buffer);break;case 10006:s="GCResultRet";var i=C.build(s),l=i.decode(n.data.buffer);console.log(l),1==b.half_enter&&(b.half_group=[!0,!0,!0]),b.game.cardsSet1=l.cardsSet1.Cards,b.game.cardsSet2=null==l.cardsSet2?[]:l.cardsSet2.Cards,b.game.cardsSet3=l.cardsSet3.Cards,b.game.result1=null==l.cardsSet1.nameNo?0:l.cardsSet1.nameNo,2!=b.gameType&&(b.game.result2=null==l.cardsSet2.nameNo?0:l.cardsSet2.nameNo),b.game.result3=null==l.cardsSet3.nameNo?0:l.cardsSet3.nameNo,b.game.winIndex=l.winIndex-1,b.game.showTip=!1,3==b.gameType&&(b.hero.bankerCardsSet=l.bankerCardsSet.Cards,b.hero.result=null==l.bankerCardsSet.nameNo?0:l.bankerCardsSet.nameNo),p(0);break;case 10008:s="GCSendGiftRet";var i=C.build(s),l=i.decode(n.data.buffer);break;case 10010:s="GCGameStateRet";var i=C.build(s),l=i.decode(n.data.buffer);d(l);break;case 10012:s="GCOutLiveRoomRet";var i=C.build(s),l=i.decode(n.data.buffer);break;case 10014:s="GCCathNowInfoRet";var i=C.build(s),l=i.decode(n.data.buffer);console.log(l),b.game.catNum1=null==l.index1Total?0:l.index1Total,b.game.catNum2=null==l.index2Total?0:l.index2Total,b.game.catNum3=null==l.index3Total?0:l.index3Total;break;case 10016:s="GCCloseLiveRet";var i=C.build(s),l=i.decode(n.data.buffer);console.log(l),b.state=2;break;case 10017:s="GCCloseGameRet";var i=C.build(s),l=i.decode(n.data.buffer);console.log(l),b.state=0;break;case 10019:s="GCChangeGameRet";var i=C.build(s),l=i.decode(n.data.buffer);b.gameType=l.gameId,e(),a();break;case 10027:s="GCUpBankerListRet";var i=C.build(s),l=i.decode(n.data.buffer);console.log(l);break;case 10029:s="GCNowSweetInfoRet";var i=C.build(s),l=i.decode(n.data.buffer);console.log(l);break;default:s="UNKNOW"}}function d(o){console.log(o),1!=o.bankerId&&null!=o.bankerId&&t(o.bankerId),o.gameId!=b.gameType&&(b.gameType=o.gameId,e(),a()),1==o.state||5==o.state?(b.game.catNum1=0,b.game.catNum2=0,b.game.catNum3=0,b.half_enter=!1,$(".deal-section ul").html(""),h=0,b.game.poker_group=[!1,!1,!1],b.game.mask=[!1,!1,!1],b.rc.mask=[!1,!1,!1],b.rc.result_mask=!1,b.hero.poker_group=[!1,!1,!1,!1],b.game.tip="即将开始，请稍后",b.game.showTip=!0):2==o.state?(b.half_enter=!1,b.game.showTip=!1,g()):3==o.state?(1==b.half_enter&&(b.half_group=[!0,!0,!0],b.hero.half_group=[!0,!0,!0,!0]),b.game.showTip=!1,b.game.time=o.countDown,m(),b.game.time>0&&$(".stake-area").on("click",function(){alert(1)})):4==o.state&&(1==b.half_enter&&(b.half_group=[!0,!0,!0],b.hero.half_group=[!0,!0,!0,!0]),b.game.time=0,b.game.showClock=!1,b.game.tip="揭晓结果",b.game.showTip=!0,b.game.tipClass="animated bounceIn")}function u(){var e=$(".deal-section li").eq(0).width(),a=$(".deal-section li").eq(0).height();if(1==b.gameType)if(h<15){var t=$(".deal-section li").eq(h).offset().left,o=$(".deal-section li").eq(h).offset().top;$(".deal-section li").eq(h).css({left:t+.5*e,top:o+.5*a}),h<5?$(".deal-section li").eq(h).addClass("rotate").animate({top:b.top+a/2,left:b.leftarr[0]+.86*e+.35*e*(h%5)},500):h<10?$(".deal-section li").eq(h).addClass("rotate").animate({top:b.top+a/2,left:b.leftarr[1]+.86*e+.35*e*(h%5)},500):$(".deal-section li").eq(h).addClass("rotate").animate({top:b.top+a/2,left:b.leftarr[2]+.86*e+.35*e*(h%5)},500),h++,5==h||10==h?(v=300,setTimeout(function(){g()},v)):(v=50,setTimeout(function(){u()},v))}else b.game.tip="开始下注",b.game.showTip=!0,b.game.tipClass="animated bounceIn";else if(2==b.gameType)if(h<10){var t=$(".deal-section li").eq(h).offset().left,o=$(".deal-section li").eq(h).offset().top;$(".deal-section li").eq(h).css({left:t+.5*e,top:o+.5*a}),h<5?$(".deal-section li").eq(h).addClass("rotate").animate({top:b.top+a/2,left:b.leftarr[0]+.49*e+.45*e*(h%5)},500):$(".deal-section li").eq(h).addClass("rotate").animate({top:b.top+a/2,left:b.leftarr[1]+.49*e+.45*e*(h%5)},500),h++,5==h?(v=300,setTimeout(function(){g()},v)):(v=50,setTimeout(function(){u()},v))}else b.game.tip="开始下注",b.game.showTip=!0,b.game.tipClass="animated bounceIn";else if(3==b.gameType)if(h<20){var t=$(".deal-section li").eq(h).offset().left,o=$(".deal-section li").eq(h).offset().top;$(".deal-section li").eq(h).css({left:t+.5*e,top:o+.5*a});var n=$(".m-banker .poker-area").eq(0).offset().top,r=$(".m-banker .poker-area").eq(0).offset().left;h<5?$(".deal-section li").eq(h).addClass("rotate").animate({top:n+a/2,left:r+.82*e+.35*e*(h%5)},500):h<10?$(".deal-section li").eq(h).addClass("rotate").animate({top:b.top+a/2,left:b.leftarr[0]+.86*e+.35*e*(h%5)},500):h<15?$(".deal-section li").eq(h).addClass("rotate").animate({top:b.top+a/2,left:b.leftarr[1]+.86*e+.35*e*(h%5)},500):$(".deal-section li").eq(h).addClass("rotate").animate({top:b.top+a/2,left:b.leftarr[2]+.86*e+.35*e*(h%5)},500),h++,5==h||10==h||15==h?(v=300,setTimeout(function(){g()},v)):(v=50,setTimeout(function(){u()},v))}else b.game.tip="开始下注",b.game.showTip=!0,b.game.tipClass="animated bounceIn"}function m(){b.game.time>0?(b.game.showClock=!0,setTimeout(function(){b.game.time--,m()},1e3)):b.game.showClock=!1}function p(e){b.half_enter=!1;var a=parseInt(e);if(b.gameType<3)a<3&&(Vue.set(b.game.poker_group,a,!0),Vue.set(b.half_group,a,!1),setTimeout(function(){a++,p(a)},1e3),2==a&&(1==b.gameType?b.game.mask.forEach(function(e,a){a!=b.game.winIndex&&Vue.set(b.game.mask,a,!0)}):2==b.gameType&&(b.rc.mask.forEach(function(e,a){a==b.game.winIndex&&Vue.set(b.rc.mask,a,!0)}),b.rc.result_mask=!0)));else if(3==b.gameType&&a<4){if(Vue.set(b.hero.poker_group,a,!0),Vue.set(b.hero.half_group,a,!1),0==a)for(var t=0;t<5;t++)$(".deal-section li").eq(t).hide();setTimeout(function(){a++,p(a)},1e3)}}function g(){for(i=0;i<5;i++){var e=$("<li></li>");$(".deal-section ul").append(e)}u()}var b=window.rainbow,h=0;window.addEventListener("resize",function(){e()},!1);var w,v=50,k=!1,T="ws:118.190.21.195:9801",y=dcodeIO.ProtoBuf,C=y.loadProtoFile("/share/data/RainbowMessage.proto");o(T)}(),$(".m-video").on("touchstart",function(e){e.preventDefault(),startX=e.originalEvent.changedTouches[0].pageX,startY=e.originalEvent.changedTouches[0].pageY}),$(".m-video").on("touchmove",function(e){e.preventDefault(),moveEndX=e.originalEvent.changedTouches[0].pageX,moveEndY=e.originalEvent.changedTouches[0].pageY,X=moveEndX-startX,Y=moveEndY-startY,Math.abs(X)>Math.abs(Y)&&X>0||Math.abs(X)>Math.abs(Y)&&X<0||(Math.abs(Y)>Math.abs(X)&&Y>0?($(".m-game").css({opacity:0})&&$(".deal-section").css({opacity:0}),$(".m-chat,.m-operate").css({top:"5rem"})):Math.abs(Y)>Math.abs(X)&&Y<0&&($(".m-game").css({opacity:1})&&$(".deal-section").css({opacity:1}),$(".m-chat,.m-operate").css({top:0})))})},6:function(e,a,t){e.exports=t(2)}});